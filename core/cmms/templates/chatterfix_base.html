<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{service_title}} - ChatterFix CMMS</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* ChatterFix CMMS Unified Design System */
        :root {
            --primary-dark: #0a0a0a;
            --secondary-dark: #16213e;
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --accent-purple: #667eea;
            --accent-purple-dark: #764ba2;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --text-muted: #808080;
            --text-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --bg-primary: #0a0a0a;
            --bg-secondary: #16213e;
            --bg-card: rgba(255, 255, 255, 0.05);
            --bg-gradient: linear-gradient(135deg, #0a0a0a 0%, #16213e 100%);
            --bg-blur: rgba(255, 255, 255, 0.1);
            --font-family: 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-light: 300;
            --font-regular: 400;
            --font-medium: 500;
            --font-semibold: 600;
            --font-bold: 700;
            --font-extrabold: 800;
        }
        
        * { 
            box-sizing: border-box; 
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: var(--font-family);
            background: var(--bg-gradient);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }
        
        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 16px 0;
            z-index: 1000;
        }
        
        .navbar-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .navbar-brand {
            background: var(--text-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: var(--font-bold);
            font-size: 1.25rem;
        }
        
        .navbar-nav {
            display: flex;
            gap: 24px;
        }
        
        .navbar-nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: var(--font-medium);
            transition: color 0.3s ease;
        }
        
        .navbar-nav a:hover {
            color: var(--text-primary);
        }
        
        /* Page Header */
        .page-header {
            padding: 120px 0 64px;
            text-align: center;
            background: var(--bg-gradient);
        }
        
        .page-header h1 {
            font-size: 3rem;
            font-weight: var(--font-extrabold);
            background: var(--text-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.2;
            margin: 0;
        }
        
        .page-header .subtitle {
            margin: 1rem 0 0 0;
            color: var(--text-secondary);
            font-size: 1.2rem;
            font-weight: var(--font-regular);
        }
        
        /* Container and Layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        .section {
            padding: 40px 0;
        }
        
        /* Buttons */
        .btn-primary {
            background: var(--gradient-primary);
            color: var(--text-primary);
            border: none;
            border-radius: 50px;
            padding: 12px 32px;
            font-weight: var(--font-semibold);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--accent-purple);
            border-radius: 50px;
            padding: 10px 30px;
            font-weight: var(--font-semibold);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-secondary:hover {
            background: var(--gradient-primary);
            border-color: transparent;
            transform: translateY(-2px);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
            color: var(--text-primary);
            border: none;
            border-radius: 50px;
            padding: 12px 32px;
            font-weight: var(--font-semibold);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        }
        
        /* Cards */
        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(102, 126, 234, 0.3);
        }
        
        .feature-card {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 32px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
            border-color: var(--accent-purple);
        }
        
        /* Statistics */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin-bottom: 48px;
        }
        
        .stat-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(102, 126, 234, 0.3);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: var(--font-bold);
            background: var(--text-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: block;
            margin-bottom: 8px;
        }
        
        /* Forms */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            color: var(--text-secondary);
            font-size: 0.875rem;
            font-weight: var(--font-medium);
            margin-bottom: 8px;
            display: block;
        }
        
        .form-input {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px 16px;
            color: var(--text-primary);
            font-family: var(--font-family);
            font-size: 1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            width: 100%;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }
        
        .form-input::placeholder {
            color: var(--text-muted);
        }
        
        /* Tables */
        .table-container {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin: 24px 0;
        }
        
        .chatterfix-table {
            width: 100%;
            border-collapse: collapse;
            font-family: var(--font-family);
        }
        
        .chatterfix-table th {
            background: rgba(102, 126, 234, 0.1);
            color: var(--text-primary);
            font-weight: var(--font-semibold);
            padding: 16px;
            text-align: left;
            border-bottom: 2px solid var(--accent-purple);
        }
        
        .chatterfix-table td {
            padding: 16px;
            color: var(--text-secondary);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .chatterfix-table tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }
        
        /* Status Indicators */
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: var(--font-semibold);
        }
        
        .status-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }
        
        .status-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
        }
        
        .status-error {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
        }
        
        .status-info {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
        }
        
        /* Grid Systems */
        .grid {
            display: grid;
            gap: 24px;
        }
        
        .grid-2 {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .grid-3 {
            grid-template-columns: repeat(3, 1fr);
        }
        
        .grid-4 {
            grid-template-columns: repeat(4, 1fr);
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin: 48px 0;
        }
        
        /* Utilities */
        .text-center { text-align: center; }
        .text-left { text-align: left; }
        .text-right { text-align: right; }
        
        .mb-4 { margin-bottom: 24px; }
        .mb-8 { margin-bottom: 48px; }
        .mt-4 { margin-top: 24px; }
        .mt-8 { margin-top: 48px; }
        
        .flex { display: flex; }
        .flex-wrap { flex-wrap: wrap; }
        .gap-4 { gap: 24px; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .page-header h1 {
                font-size: 2.25rem;
            }
            
            .container {
                padding: 0 16px;
            }
            
            .grid-2,
            .grid-3,
            .grid-4 {
                grid-template-columns: 1fr;
            }
            
            .navbar-content {
                padding: 0 16px;
            }
        }
        
        /* Loading Animation */
        @keyframes pulse {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 1; }
        }
        
        .loading {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        /* Gradient Animation */
        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .animated-gradient {
            background: linear-gradient(-45deg, #667eea, #764ba2, #667eea, #764ba2);
            background-size: 400% 400%;
            animation: gradient-shift 4s ease infinite;
        }
        
        /* Service-specific customizations can be added here */
        {{custom_styles}}
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="navbar-content">
            <div class="navbar-brand">ChatterFix CMMS</div>
            <div class="navbar-nav">
                {{navigation_links}}
            </div>
        </div>
    </nav>

    <div class="page-header">
        <div class="container">
            <h1>{{service_icon}} {{service_name}}</h1>
            <p class="subtitle">{{service_description}}</p>
        </div>
    </div>

    <div class="container">
        {{main_content}}
    </div>

    <script>
        // ChatterFix CMMS Common JavaScript Functions
        
        // Smooth animations
        document.addEventListener('DOMContentLoaded', function() {
            // Add intersection observer for animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);
            
            // Observe cards and stat elements
            document.querySelectorAll('.card, .stat-card, .feature-card').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(el);
            });
        });
        
        // Common utility functions
        function showLoading(elementId) {
            const element = document.getElementById(elementId);
            if (element) {
                element.innerHTML = '<div class="loading">Loading...</div>';
            }
        }
        
        function hideLoading(elementId, content) {
            const element = document.getElementById(elementId);
            if (element) {
                element.innerHTML = content;
            }
        }
        
        function showToast(message, type = 'info') {
            // Simple toast notification
            const toast = document.createElement('div');
            toast.className = `status-${type}`;
            toast.style.cssText = `
                position: fixed;
                top: 100px;
                right: 24px;
                padding: 16px 24px;
                border-radius: 12px;
                z-index: 2000;
                animation: slideIn 0.3s ease;
            `;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }
        
        {{custom_scripts}}
    </script>

    <!-- AI Team Consensus #1 Priority: Global Chat Widget -->
    <div id="ai-chat-widget" class="fixed bottom-6 right-6 z-50">
        <!-- Chat Toggle Button -->
        <button id="chat-toggle" class="bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white p-4 rounded-full shadow-xl transition-all duration-300 transform hover:scale-110 group">
            <svg id="chat-icon" class="w-6 h-6 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
            </svg>
            <span id="chat-badge" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center opacity-0 transition-opacity duration-300">!</span>
        </button>

        <!-- Chat Window -->
        <div id="chat-window" class="hidden absolute bottom-16 right-0 w-80 h-96 bg-gray-900 rounded-lg shadow-2xl border border-gray-700 overflow-hidden">
            <!-- Chat Header -->
            <div class="bg-gradient-to-r from-purple-600 to-blue-600 p-4 flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                        <span class="text-sm">ðŸ¤–</span>
                    </div>
                    <div>
                        <h3 class="text-white font-semibold text-sm">ChatterFix AI Assistant</h3>
                        <p class="text-blue-100 text-xs">Online â€¢ Ready to help</p>
                    </div>
                </div>
                <button id="chat-close" class="text-white hover:text-gray-300 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>

            <!-- Chat Messages -->
            <div id="chat-messages" class="flex-1 overflow-y-auto p-4 space-y-3 h-64">
                <div class="flex items-start space-x-2">
                    <div class="w-6 h-6 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0">
                        <span class="text-xs">ðŸ¤–</span>
                    </div>
                    <div class="bg-gray-800 rounded-lg p-3 max-w-64">
                        <p class="text-gray-100 text-sm">ðŸ‘‹ Hi! I'm your ChatterFix AI Assistant. I can help you with work orders, asset management, parts inventory, and answer questions about your CMMS operations. What would you like to know?</p>
                    </div>
                </div>
            </div>

            <!-- Chat Input -->
            <div class="p-4 border-t border-gray-700">
                <div class="flex space-x-2">
                    <input id="chat-input" type="text" placeholder="Ask me anything about ChatterFix..." class="flex-1 bg-gray-800 text-white rounded-lg px-3 py-2 text-sm border border-gray-600 focus:border-purple-500 focus:outline-none">
                    <button id="chat-send" class="bg-purple-600 hover:bg-purple-700 text-white p-2 rounded-lg transition-colors">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <style>
        /* AI Chat Widget Styles */
        #ai-chat-widget {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 10000;
        }

        #chat-toggle {
            background: var(--gradient-primary);
            border: none;
            padding: 16px;
            border-radius: 50%;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #chat-toggle:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.6);
        }

        #chat-window {
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .chat-message {
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #chat-input {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        #chat-input:focus {
            border-color: var(--accent-purple);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        #chat-send {
            background: var(--accent-purple);
        }

        #chat-send:hover {
            background: var(--accent-purple-dark);
        }
    </style>

    <script>
        // AI Chat Widget Functionality - AI Team Implementation
        class ChatterFixAIChat {
            constructor() {
                this.isOpen = false;
                this.apiEndpoint = '/api/ai/chat'; // Will auto-route to correct service
                this.context = this.getPageContext();
                this.initializeEventListeners();
                this.showWelcomeMessage();
            }

            getPageContext() {
                // Detect current page context for smarter AI responses
                const path = window.location.pathname;
                if (path.includes('work-orders')) return 'work_orders';
                if (path.includes('assets')) return 'assets';
                if (path.includes('parts')) return 'parts';
                if (path.includes('dashboard')) return 'dashboard';
                return 'general';
            }

            initializeEventListeners() {
                const toggleBtn = document.getElementById('chat-toggle');
                const closeBtn = document.getElementById('chat-close');
                const sendBtn = document.getElementById('chat-send');
                const input = document.getElementById('chat-input');

                toggleBtn.addEventListener('click', () => this.toggleChat());
                closeBtn.addEventListener('click', () => this.closeChat());
                sendBtn.addEventListener('click', () => this.sendMessage());
                
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.sendMessage();
                });
            }

            toggleChat() {
                const window = document.getElementById('chat-window');
                const badge = document.getElementById('chat-badge');
                
                if (this.isOpen) {
                    this.closeChat();
                } else {
                    window.classList.remove('hidden');
                    this.isOpen = true;
                    badge.style.opacity = '0';
                    document.getElementById('chat-input').focus();
                }
            }

            closeChat() {
                const window = document.getElementById('chat-window');
                window.classList.add('hidden');
                this.isOpen = false;
            }

            showWelcomeMessage() {
                // Show notification badge to encourage interaction
                setTimeout(() => {
                    const badge = document.getElementById('chat-badge');
                    badge.style.opacity = '1';
                }, 3000);
            }

            async sendMessage() {
                const input = document.getElementById('chat-input');
                const message = input.value.trim();
                
                if (!message) return;

                // Add user message to chat
                this.addMessage(message, 'user');
                input.value = '';

                // Show typing indicator
                this.showTyping();

                try {
                    // Smart endpoint routing based on message content and context
                    const endpoint = this.getSmartEndpoint(message);
                    
                    const response = await fetch(endpoint, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ 
                            message: message,
                            context: this.context,
                            timestamp: new Date().toISOString()
                        })
                    });

                    const data = await response.json();
                    this.hideTyping();
                    
                    if (response.ok) {
                        this.addMessage(data.response || data.message || 'I understand your question. Let me help you with that!', 'ai');
                    } else {
                        // Fallback response for development
                        this.addMessage(this.getSmartFallbackResponse(message), 'ai');
                    }
                } catch (error) {
                    this.hideTyping();
                    this.addMessage(this.getSmartFallbackResponse(message), 'ai');
                }
            }

            getSmartEndpoint(message) {
                // Route to appropriate microservice based on message content
                const lower = message.toLowerCase();
                
                if (lower.includes('work order') || lower.includes('maintenance') || lower.includes('task')) {
                    return '/api/work-orders/ai-chat';
                }
                if (lower.includes('asset') || lower.includes('equipment') || lower.includes('machine')) {
                    return '/api/assets/ai-chat';
                }
                if (lower.includes('part') || lower.includes('inventory') || lower.includes('stock')) {
                    return '/api/parts/ai-chat';
                }
                
                // Default to AI brain service
                return '/api/ai/chat';
            }

            getSmartFallbackResponse(message) {
                // Intelligent fallback responses while endpoints are being connected
                const lower = message.toLowerCase();
                
                if (lower.includes('work order')) {
                    return "I can help you with work orders! Currently, you can create, view, and manage work orders through the Work Orders section. Would you like me to guide you there or help with something specific?";
                }
                if (lower.includes('asset') || lower.includes('equipment')) {
                    return "For asset management, I can help you track equipment, view asset details, and manage maintenance schedules. The Assets section has all your equipment information. What specific asset question do you have?";
                }
                if (lower.includes('part') || lower.includes('inventory')) {
                    return "I can assist with parts inventory! You can check stock levels, add new parts, and track usage in the Parts section. What inventory information do you need?";
                }
                if (lower.includes('help') || lower.includes('how')) {
                    return "I'm here to help! I can assist with:\nâ€¢ Work order management\nâ€¢ Asset tracking\nâ€¢ Parts inventory\nâ€¢ Navigation and features\nâ€¢ System status\n\nWhat would you like to know more about?";
                }
                
                return "Thanks for your question! I'm your ChatterFix AI assistant and I'm here to help with your CMMS operations. While I'm connecting to all services, I can guide you through the platform and answer questions about work orders, assets, and inventory management.";
            }

            addMessage(text, sender) {
                const messagesContainer = document.getElementById('chat-messages');
                const messageDiv = document.createElement('div');
                messageDiv.className = 'flex items-start space-x-2 chat-message';
                
                if (sender === 'user') {
                    messageDiv.innerHTML = `
                        <div class="flex-1 flex justify-end">
                            <div class="bg-purple-600 rounded-lg p-3 max-w-64">
                                <p class="text-white text-sm">${text}</p>
                            </div>
                        </div>
                    `;
                } else {
                    messageDiv.innerHTML = `
                        <div class="w-6 h-6 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0">
                            <span class="text-xs">ðŸ¤–</span>
                        </div>
                        <div class="bg-gray-800 rounded-lg p-3 max-w-64">
                            <p class="text-gray-100 text-sm">${text}</p>
                        </div>
                    `;
                }
                
                messagesContainer.appendChild(messageDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            showTyping() {
                const messagesContainer = document.getElementById('chat-messages');
                const typingDiv = document.createElement('div');
                typingDiv.id = 'typing-indicator';
                typingDiv.className = 'flex items-start space-x-2';
                typingDiv.innerHTML = `
                    <div class="w-6 h-6 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0">
                        <span class="text-xs">ðŸ¤–</span>
                    </div>
                    <div class="bg-gray-800 rounded-lg p-3">
                        <div class="flex space-x-1">
                            <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                            <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                            <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                        </div>
                    </div>
                `;
                messagesContainer.appendChild(typingDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            hideTyping() {
                const typingIndicator = document.getElementById('typing-indicator');
                if (typingIndicator) {
                    typingIndicator.remove();
                }
            }
        }

        // Initialize AI Chat when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            window.chatterFixAI = new ChatterFixAIChat();
            console.log('ðŸ¤– ChatterFix AI Assistant initialized - AI Team Implementation');
        });
    </script>
</body>
</html>